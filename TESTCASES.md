# Тест-кейсы для API микросервиса объявлений

## Общая информация
- **Base URL:** https://qa-internship.avito.com
- **API Version:** 1

---

## TC-1: Создание объявления (POST /api/1/item)

### TC-1.1: Успешное создание объявления со всеми обязательными полями
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом:
   ```json
   {
     "sellerID": <уникальный ID в диапазоне 111111-999999>,
     "name": "testItem",
     "price": 9900,
     "statistics": {
       "likes": 21,
       "viewCount": 11,
       "contacts": 43
     }
   }
   ```

**Ожидаемый результат:**
- Статус код: 200
- В ответе присутствуют поля: `id`, `sellerId`, `name`, `price`, `statistics`, `createdAt`
- `id` является строкой и не пустой
- `sellerId` соответствует переданному `sellerID`
- `name` соответствует переданному значению
- `price` соответствует переданному значению
- `statistics` содержит `likes`, `viewCount`, `contacts` с переданными значениями
- `createdAt` присутствует и является строкой

**Приоритет:** High

---

### TC-1.2: Создание объявления без обязательного поля sellerID
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом без поля `sellerID`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`
- `result` содержит `message` и `messages`

**Приоритет:** High

---

### TC-1.3: Создание объявления без обязательного поля name
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом без поля `name`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** High

---

### TC-1.4: Создание объявления без обязательного поля price
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом без поля `price`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** High

---

### TC-1.5: Создание объявления без обязательного поля statistics
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом без поля `statistics`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** High

---

### TC-1.6: Создание объявления с неполной статистикой (без likes)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `statistics` не содержит `likes`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** Medium

---

### TC-1.7: Создание объявления с неполной статистикой (без viewCount)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `statistics` не содержит `viewCount`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** Medium

---

### TC-1.8: Создание объявления с неполной статистикой (без contacts)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `statistics` не содержит `contacts`

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** Medium

---

### TC-1.9: Создание объявления с некорректным типом данных для sellerID (строка вместо числа)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `sellerID` является строкой

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** Medium

---

### TC-1.10: Создание объявления с некорректным типом данных для price (строка вместо числа)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `price` является строкой

**Ожидаемый результат:**
- Статус код: 400
- В ответе присутствуют поля `result` и `status`

**Приоритет:** Medium

---

### TC-1.11: Создание объявления с отрицательным значением price
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `price` = -100

**Ожидаемый результат:**
- Статус код: 400 или 200 (зависит от бизнес-логики)

**Приоритет:** Low

---

### TC-1.12: Создание объявления с пустой строкой в name
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с телом, где `name` = ""

**Ожидаемый результат:**
- Статус код: 400 или 200 (зависит от бизнес-логики)

**Приоритет:** Medium

---

## TC-2: Получение объявления по идентификатору (GET /api/1/item/{id})

### TC-2.1: Успешное получение существующего объявления
**Предусловия:** Создано объявление с известным `id`

**Шаги:**
1. Создать объявление через POST /api/1/item
2. Сохранить `id` из ответа
3. Отправить GET запрос на `/api/1/item/{id}`

**Ожидаемый результат:**
- Статус код: 200
- Ответ является массивом с одним объектом
- Объект содержит все обязательные поля: `id`, `sellerId`, `name`, `price`, `statistics`, `createdAt`
- Значения полей соответствуют созданному объявлению

**Приоритет:** High

---

### TC-2.2: Получение несуществующего объявления
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/item/nonexistent-id-12345`

**Ожидаемый результат:**
- Статус код: 404
- В ответе присутствуют поля `result` и `status`

**Приоритет:** High

---

### TC-2.3: Получение объявления с пустым id
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/item/`

**Ожидаемый результат:**
- Статус код: 404 или 400

**Приоритет:** Medium

---

### TC-2.4: Получение объявления с некорректным форматом id (специальные символы)
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/item/!@#$%^&*()`

**Ожидаемый результат:**
- Статус код: 400 или 404

**Приоритет:** Low

---

## TC-3: Получение всех объявлений продавца (GET /api/1/{sellerID}/item)

### TC-3.1: Успешное получение всех объявлений продавца
**Предусловия:** Создано несколько объявлений с одним `sellerID`

**Шаги:**
1. Создать 2-3 объявления с одинаковым `sellerID`
2. Отправить GET запрос на `/api/1/{sellerID}/item`

**Ожидаемый результат:**
- Статус код: 200
- Ответ является массивом
- Количество элементов в массиве соответствует количеству созданных объявлений
- Все элементы содержат обязательные поля
- Все элементы имеют одинаковый `sellerId`, соответствующий запрошенному `sellerID`

**Приоритет:** High

---

### TC-3.2: Получение объявлений несуществующего продавца
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/999999/item` (несуществующий sellerID)

**Ожидаемый результат:**
- Статус код: 200
- Ответ является пустым массивом `[]`

**Приоритет:** High

---

### TC-3.3: Получение объявлений продавца с некорректным типом sellerID (строка)
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/abc/item`

**Ожидаемый результат:**
- Статус код: 400 или 404

**Приоритет:** Medium

---

### TC-3.4: Получение объявлений продавца с отрицательным sellerID
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/-123/item`

**Ожидаемый результат:**
- Статус код: 400 или 200 (зависит от бизнес-логики)

**Приоритет:** Low

---

### TC-3.5: Получение объявлений продавца с sellerID вне допустимого диапазона
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/1000000/item` (больше 999999)

**Ожидаемый результат:**
- Статус код: 400 или 200 (зависит от бизнес-логики)

**Приоритет:** Low

---

## TC-4: Получение статистики по объявлению (GET /api/1/statistic/{id})

### TC-4.1: Успешное получение статистики существующего объявления
**Предусловия:** Создано объявление с известным `id`

**Шаги:**
1. Создать объявление через POST /api/1/item
2. Сохранить `id` из ответа
3. Отправить GET запрос на `/api/1/statistic/{id}`

**Ожидаемый результат:**
- Статус код: 200
- Ответ является массивом
- Элемент массива содержит поля: `likes`, `viewCount`, `contacts`
- Значения полей соответствуют статистике созданного объявления

**Приоритет:** High

---

### TC-4.2: Получение статистики несуществующего объявления
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/statistic/nonexistent-id-12345`

**Ожидаемый результат:**
- Статус код: 404
- В ответе присутствуют поля `result` и `status`

**Приоритет:** High

---

### TC-4.3: Получение статистики с пустым id
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/statistic/`

**Ожидаемый результат:**
- Статус код: 404 или 400

**Приоритет:** Medium

---

### TC-4.4: Получение статистики с некорректным форматом id
**Предусловия:** Нет

**Шаги:**
1. Отправить GET запрос на `/api/1/statistic/!@#$%^&*()`

**Ожидаемый результат:**
- Статус код: 400 или 404

**Приоритет:** Low

---

## TC-5: Интеграционные тесты

### TC-5.1: Создание объявления и последующее получение его по id
**Предусловия:** Нет

**Шаги:**
1. Создать объявление через POST /api/1/item
2. Сохранить `id` из ответа
3. Получить объявление через GET /api/1/item/{id}

**Ожидаемый результат:**
- Все данные полученного объявления соответствуют данным созданного объявления

**Приоритет:** High

---

### TC-5.2: Создание нескольких объявлений одного продавца и получение всех его объявлений
**Предусловия:** Нет

**Шаги:**
1. Создать 3 объявления с одинаковым `sellerID`
2. Получить все объявления через GET /api/1/{sellerID}/item

**Ожидаемый результат:**
- В ответе присутствуют все 3 созданных объявления
- Все объявления имеют правильный `sellerId`

**Приоритет:** High

---

### TC-5.3: Создание объявления и получение его статистики
**Предусловия:** Нет

**Шаги:**
1. Создать объявление через POST /api/1/item с известной статистикой
2. Получить статистику через GET /api/1/statistic/{id}

**Ожидаемый результат:**
- Статистика в ответе соответствует статистике при создании

**Приоритет:** High

---

## TC-6: Граничные значения

### TC-6.1: Создание объявления с минимальным sellerID (111111)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с `sellerID` = 111111

**Ожидаемый результат:**
- Статус код: 200
- Объявление успешно создано

**Приоритет:** Medium

---

### TC-6.2: Создание объявления с максимальным sellerID (999999)
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с `sellerID` = 999999

**Ожидаемый результат:**
- Статус код: 200
- Объявление успешно создано

**Приоритет:** Medium

---

### TC-6.3: Создание объявления с нулевым price
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с `price` = 0

**Ожидаемый результат:**
- Статус код: 200 или 400 (зависит от бизнес-логики)

**Приоритет:** Medium

---

### TC-6.4: Создание объявления с очень длинным name
**Предусловия:** Нет

**Шаги:**
1. Отправить POST запрос на `/api/1/item` с `name` длиной 1000+ символов

**Ожидаемый результат:**
- Статус код: 200 или 400 (зависит от ограничений)

**Приоритет:** Low

---

## Резюме

**Всего тест-кейсов:** 35

**По приоритетам:**
- **High:** 18 тест-кейсов
- **Medium:** 13 тест-кейсов
- **Low:** 4 тест-кейса

